# エージェント開発システム - 他プロジェクト用セットアップガイド

作成日: 2026-01-23
作成者: Sisyphus
対象: PM・プロジェクトマネージャー

---

## 📋 目次

1. [システム概要](#システム概要)
2. [前提条件](#前提条件)
3. [セットアップ手順](#セットアップ手順)
4. [エージェントの起動方法](#エージェントの起動方法)
5. [タスク割り当て方法](#タスク割り当て方法)
6. [進捗管理方法](#進捗管理方法)
7. [ドキュメント構造](#ドキュメント構造)
8. [テンプレート](#テンプレート)
9. [トラブルシューティング](#トラブルシューティング)
10. [ベストプラクティス](#ベストプラクティス)

---

## システム概要

このシステムは、複数のAIエージェントを並列で稼働させ、プロジェクトを効率的に進めるための仕組みです。

### アーキテクチャ

```
┌─────────────────────────────────────────────────────┐
│            PM（あなた）                            │
│  - エージェントの起動・管理                          │
│  - タスクの割り当て                                  │
│  - 進捗の監視                                       │
│  - ドキュメントの更新                                 │
└──────────────────┬──────────────────────────────────┘
                   │ チャット
                   ▼
┌─────────────────────────────────────────────────────┐
│              ターミナル / チャットシステム              │
└──────────────────┬──────────────────────────────────┘
                   │ Task tool
                   ▼
┌─────────────────────────────────────────────────────┐
│            エージェントA/B/C/D...                   │
│  - 各エージェントが専門タスクを担当                       │
│  - 並列で稼働                                     │
│  - 進捗を定期的に報告                                │
└─────────────────────────────────────────────────────┘
                   │ 進捗報告
                   ▼
┌─────────────────────────────────────────────────────┐
│            ファイルシステム                          │
│  - ドキュメントの自動更新                               │
│  - タスクの状態管理                                   │
└─────────────────────────────────────────────────────┘
```

### 特徴

- ✅ 並列稼働 - 複数のエージェントが同時に作業
- ✅ 自動進捗管理 - エージェントからの報告を自動的にドキュメント化
- ✅ リアルタイム監視 - PMはいつでも進捗を確認可能
- ✅ 柔軟なタスク割り当て - プロジェクトに応じてタスクをカスタマイズ

---

## 前提条件

### 必要なツール

| ツール | 用途 | 確認方法 |
|--------|------|----------|
| `task` tool | エージェントの起動 | システムに組み込まれている必要があります |
| `write` tool | ドキュメントの作成 | システムに組み込まれている必要があります |
| `read` tool | ドキュメントの読み込み | システムに組み込まれている必要があります |
| `bash` tool | コマンド実行 | システムに組み込まれている必要があります |

### 推奨する環境

- プロジェクトディレクトリ: Gitリポジトリであること
- ドキュメントディレクトリ: Markdownで管理されていること
- チャット機能: エージェントとの双方向通信が可能であること

---

## セットアップ手順

### ステップ1: プロジェクトディレクトリの確認

```bash
# プロジェクトディレクトリに移動
cd /path/to/your/project

# Gitリポジトリであることを確認
git status

# 現在のブランチを確認
git branch
```

### ステップ2: ドキュメントディレクトリの作成

```bash
# ドキュメント用ディレクトリを作成
mkdir -p docs/guides templates
```

### ステップ3: テンプレートのコピー

このプロジェクトのテンプレートをコピーしてください：

```bash
# プロジェクトルートにテンプレートをコピー
cp /path/to/xboost/templates/PROGRESS_REPORT_TEMPLATE.md \
   /path/to/your/project/templates/PROGRESS_REPORT_TEMPLATE.md
```

または、以下のファイルを新規作成してください（内容は後述の「テンプレート」セクションを参照）。

### ステップ4: ドキュメントの新規作成

以下のドキュメントを作成してください：

```bash
# 必要なドキュメントを作成
touch PROJECT_OVERVIEW.md
touch AGENT_TASKS.md
touch PROGRESS_DASHBOARD.md
touch USER_DASHBOARD.md
touch QUICK_START_USER.md
touch PM_OPERATION_GUIDE.md
touch AGENT_COLLABORATION_SYSTEM.md
```

### ステップ5: ドキュメントの内容化

各ドキュメントに内容を記入してください。詳細は「ドキュメント構造」セクションを参照。

---

## エージェントの起動方法

### エージェントの起動コマンド

エージェントを起動するには、`task` toolを使用します。

#### 基本構文

```typescript
task({
  description: "エージェントタスクの説明",
  prompt: "エージェントへの指示",
  subagent_type: "general",
  tools: { "background_task": false }
})
```

#### パラメータ説明

| パラメータ | 型 | 必須 | 説明 |
|-----------|------|------|------|
| `description` | string | ✅ | タスクの短い説明（3-5文字）|
| `prompt` | string | ✅ | エージェントへの詳細な指示 |
| `subagent_type` | string | ✅ | エージェントの種類（general, explore, librarian等）|
| `tools` | object | ❌ | エージェントが使用できるツール |

### エージェントの種類

| subagent_type | 用途 | 使用タイミング |
|---------------|------|--------------|
| `general` | 一般的なタスク | ほとんどのタスク |
| `explore` | コード探索 | コードベースの調査 |
| `librarian` | 外部リソース調査 | ドキュメント・OSS調査 |
| `oracle` | 設計・デバッグ | 複雑な問題の解決 |
| `frontend-ui-ux-engineer` | UI/UX開発 | フロントエンドの視覚的変更 |

### エージェントの並列起動

複数のエージェントを同時に起動するには、`task` toolを複数回呼び出してください。

```typescript
// エージェントAを起動
task({
  description: "エージェントAのタスク",
  prompt: "...",
  subagent_type: "general",
  tools: { "background_task": false }
})

// エージェントBを起動（並列実行）
task({
  description: "エージェントBのタスク",
  prompt: "...",
  subagent_type: "general",
  tools: { "background_task": false }
})
```

### 背景タスクとしての起動

長時間実行するタスクの場合、背景で実行することもできます。

```typescript
task({
  description: "長時間タスク",
  prompt: "...",
  subagent_type: "general",
  tools: { "background_task": true }  // 背景で実行
})
```

背景タスクの場合、`background_output` toolで結果を取得します。

```typescript
const result = background_output({ task_id: "bg_xxx" })
```

---

## タスク割り当て方法

### タスクの定義

タスクは以下の情報を含んでいる必要があります：

```markdown
### タスクX: [タスク名]

**優先度**: [P0/P1/P2/P3]
**目標**: [完了目標日時]
**推定時間**: [推定作業時間]

**要件**:
- [要件1]
- [要件2]

**出力物**:
- [出力物1]
- [出力物2]

**検証方法**:
- [検証手順]

**進捗報告フォーマット**:
```
## 進捗報告
エージェント: [A/B/C/D]
タスクID: [タスクID]
アクション: [開始/完了/ブロッカー発生]
詳細: [詳細情報]
```
```

### タスクの優先度

| 優先度 | 説明 | 例 |
|--------|------|----|
| **P0** | クリティカル - 完了しないと他の作業ができない | TypeScriptエラー修正、ビルド不通 |
| **P1** | 高 - 重要な機能、期限がある | API実装、テスト |
| **P2** | 中 - 改善、機能追加 | UI改善、ドキュメント更新 |
| **P3** | 低 - 将来的な改善 | リファクタリング、研究 |

### タスク割り当てドキュメント

`AGENT_TASKS.md` にすべてのタスクを記載してください。

```markdown
# エージェントタスク割り当て

作成日: YYYY-MM-DD
PM: [あなたの名前]

---

## エージェント別タスク一覧

### エージェントA

#### タスクA-1: [タスク名]
**優先度**: P0
**目標**: YYYY-MM-DD HH:MM

[タスクの詳細]

---

### エージェントB

#### タスクB-1: [タスク名]
...
```

---

## 進捗管理方法

### エージェントからの進捗報告

エージェントは以下のフォーマットで進捗を報告します：

```markdown
## 進捗報告
エージェント: [A/B/C/D]
タスクID: [タスクID]
アクション: [開始/完了/ブロッカー発生/進捗更新]
詳細: [詳細情報]
```

### PMの対応

エージェントから進捗報告が来たら、以下を行います：

#### 1. 進捗ダッシュボードの更新

`PROGRESS_DASHBOARD.md` を更新します。

```markdown
### 進捗履歴

| 時刻 | エージェント | イベント |
|------|------------|----------|
| 18:15 | エージェントA | タスクA-1完了 |
```

#### 2. タスク状態の変更

```markdown
### エージェントA

| ID | タスク | 優先度 | 状態 | 完了日 |
|----|-------|--------|------|--------|
| A-1 | タスクA-1 | P0 | 🟢 完了 | 2026-01-23 18:15 |
```

#### 3. 全体進捗の再計算

```markdown
### 全体進捗

[██████████░░░] 67% (6/9 タスク完了)
```

#### 4. ユーザーダッシュボードの更新

`USER_DASHBOARD.md` を更新します。

### 進捗監視の頻度

| 頻度 | 行うこと |
|------|---------|
| リアルタイム | エージェントからの報告時 |
| 1時間ごと | 進捗ダッシュボードの確認 |
| タスク完了時 | 次のタスクの割り当て |
| ブロッカー発生時 | 即座に対応 |

---

## ドキュメント構造

### 必要なドキュメント一覧

| ドキュメント | 用途 | 対象者 |
|-------------|------|--------|
| **PROJECT_OVERVIEW.md** | プロジェクト概要 | 全員 |
| **AGENT_TASKS.md** | エージェントタスク割り当て | PM, エージェント |
| **PROGRESS_DASHBOARD.md** | PM用進捗ダッシュボード | PM |
| **USER_DASHBOARD.md** | ユーザー用進捗ダッシュボード | ユーザー |
| **PM_OPERATION_GUIDE.md** | PMオペレーションガイド | PM |
| **AGENT_COLLABORATION_SYSTEM.md** | エージェント連携システム仕様 | PM, ユーザー |
| **QUICK_START_USER.md** | ユーザー向けクイックスタート | ユーザー |

### 各ドキュメントの内容

#### 1. PROJECT_OVERVIEW.md

プロジェクトの全体像を記述します。

```markdown
# プロジェクト概要

## プロジェクト名
[プロジェクト名]

## 目的
[プロジェクトの目的]

## 主要機能
- [機能1]
- [機能2]

## 技術スタック
- [技術1]
- [技術2]

## チーム構成
- PM: [あなた]
- エージェントA: [担当]
- エージェントB: [担当]
```

#### 2. AGENT_TASKS.md

エージェント別のタスク割り当てを記述します。詳細は前述の「タスク割り当て方法」を参照。

#### 3. PROGRESS_DASHBOARD.md

PM用の詳細な進捗ダッシュボードです。

```markdown
# PM進捗ダッシュボード

## 全体進捗

[進捗バー]

## エージェント別進捗

### エージェントA
[タスク一覧]

### エージェントB
[タスク一覧]

## ブロッカー
[ブロッカー一覧]

## 進捗履歴
[履歴]
```

#### 4. USER_DASHBOARD.md

ユーザーが見るべき進捗ダッシュボードです。

```markdown
# ユーザーダッシュボード

## 進捗クイックビュー
[全体進捗]

## エージェント状況
[簡易的な状況]

## 今日の重点タスク
[優先タスク]

## 最新の進捗報告
[最新の報告]
```

#### 5. PM_OPERATION_GUIDE.md

PMのオペレーション手順を記述します。

```markdown
# PMオペレーションガイド

## PMの役割
[役割の説明]

## 定期的なタスク
[1時間ごとのタスクなど]

## 進捗報告の処理
[報告の処理手順]

## タスク割り当てワークフロー
[割り当ての手順]

## ブロッカー管理
[ブロッカーの対応方法]
```

#### 6. AGENT_COLLABORATION_SYSTEM.md

エージェント連携システムの仕様を記述します。

```markdown
# エージェント連携システム

## アーキテクチャ
[システム全体の図]

## 連携の流れ
[連携の詳細]

## 現状の課題
[課題と解決策]

## 改善案
[将来の改善計画]
```

#### 7. QUICK_START_USER.md

ユーザー向けのクイックスタートガイドです。

```markdown
# クイックスタートガイド

## 進捗の確認方法
1. 「進捗」と入力
2. USER_DASHBOARD.mdを確認

## よくある質問
[FAQ]

## 重要な用語
[用語集]
```

---

## テンプレート

### 進捗報告テンプレート

エージェント用の進捗報告テンプレートです。

```markdown
## 進捗報告
エージェント: [A/B/C/D]
タスクID: [タスクID]
アクション: [開始/完了/ブロッカー発生/進捗更新]
詳細: [詳細情報]

### 完了したタスク
- [タスク1]

### 進行中のタスク
- [タスク1] - [進捗%]

### ブロッカー
- [問題点] - [影響範囲]

### 次のステップ
- [次にやること]
```

### タスク定義テンプレート

PM用のタスク定義テンプレートです。

```markdown
### タスク[番号]: [タスク名]

**優先度**: [P0/P1/P2/P3]
**目標**: [完了目標日時]
**推定時間**: [推定作業時間]
**担当**: [エージェント]

**要件**:
- [要件1]
- [要件2]

**出力物**:
- [出力物1]

**検証方法**:
- [検証手順]

**参考**:
- [参考資料]

**進捗報告フォーマット**:
```
## 進捗報告
エージェント: [担当]
タスクID: [タスク番号]
アクション: [開始/完了/ブロッカー発生]
詳細: [詳細]
```
```

---

## トラブルシューティング

### エージェントが応答しない場合

1. **タスクの確認**: promptが適切に設定されているか確認
2. **再起動**: 同じpromptで再度タスクを起動
3. **簡略化**: promptを簡略化して再試行

### エージェントがループする場合

1. **promptの確認**: 曖昧な指示がないか確認
2. **制約の追加**: 具体的な制約を追加
3. **タスクの分割**: タスクを小さく分割

### 進捗報告が来ない場合

1. **催促**: 1時間ごとに催促メッセージを送る
2. **確認**: エージェントがブロックされていないか確認
3. **再割り当て**: 必要であれば別のエージェントに割り当て

### ドキュメントの更新漏れ

1. **自動化**: エージェントからの報告を受けて即座に更新
2. **確認**: 1時間ごとにドキュメントを確認
3. **バックアップ**: 変更前にバックアップを取得

---

## ベストプラクティス

### PMとしてのベストプラクティス

1. **明確な指示**: エージェントには具体的で明確な指示を与える
2. **定期的な確認**: 1時間ごとに進捗を確認する
3. **即座の対応**: ブロッカーには即座に対応する
4. **ドキュメント化**: すべての決定事項をドキュメント化する
5. **柔軟性**: 計画は柔軟に変更する

### エージェント管理のベストプラクティス

1. **適切な割り当て**: 各エージェントの得意分野に応じてタスクを割り当てる
2. **並列実行**: 可能な限り並列で実行する
3. **進捗監視**: 定期的に進捗を監視する
4. **フィードバック**: タスク完了後にフィードバックを提供する

### プロジェクト管理のベストプラクティス

1. **小さなタスク**: タスクは小さく分割する
2. **優先順位**: 明確な優先順位を設定する
3. **期限設定**: 各タスクに期限を設定する
4. **成功基準**: 明確な成功基準を設定する
5. **リスク管理**: リスクを事前に特定し、軽減策を用意する

---

## まとめ

このシステムを使用すると、以下のメリットがあります：

- ✅ 並列稼働による効率化
- ✅ 自動進捗管理
- ✅ リアルタイム監視
- ✅ 柔軟なタスク割り当て
- ✅ ドキュメントの自動化

### 最初の一歩

1. このガイドをプロジェクトディレクトリにコピー
2. 必要なドキュメントを作成
3. エージェントを起動
4. 進捗を監視

---

**作成日**: 2026-01-23
**作成者**: Sisyphus
**バージョン**: 1.0
